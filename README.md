# ðŸŒ‘ Shadow Art Broker (é—‡ã®ãƒ–ãƒ­ãƒ¼ã‚«ãƒ¼)

**Shadow Art Broker**ã¯ã€AI ç”Ÿæˆã‚¤ãƒ©ã‚¹ãƒˆã‚’ã€Œå¯†è¼¸ã€ã—ã€é‘‘å®šã€å£²è²·ã€ãã—ã¦æ ªå¼æŠ•è³‡ã‚’è¡Œã†ã“ã¨ãŒã§ãã‚‹ã€Discord ä¸Šã®é—‡çµŒæ¸ˆã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³ Bot ã§ã™ã€‚

ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã€Œå¯†è¼¸æ¥­è€…ã€ã¨ãªã‚Šã€AI ã«ã‚ˆã£ã¦ä¾¡å€¤ä»˜ã‘ã•ã‚ŒãŸç”»åƒã‚’å–å¼•ã™ã‚‹ã“ã¨ã§ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚’ç¨¼ãŽã€é—‡ç¤¾ä¼šã§ã®åœ°ä½ã‚’ç¢ºç«‹ã™ã‚‹ã“ã¨ã‚’ç›®æŒ‡ã—ã¾ã™ã€‚

## ðŸŽ® ã‚²ãƒ¼ãƒ ã‚·ã‚¹ãƒ†ãƒ  (Mechanics)

ã“ã® Bot ã®çµŒæ¸ˆã‚·ã‚¹ãƒ†ãƒ ã¯ã€é«˜åº¦ãª AI ãƒ¢ãƒ‡ãƒ«ã¨ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã«ã‚ˆã£ã¦æ”¯ãˆã‚‰ã‚Œã¦ã„ã¾ã™ã€‚

### 1. ðŸ•µï¸ å¯†è¼¸ (Smuggling)

ç”»åƒã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã‹ã‚‰è²©å£²ã¾ã§ã®ãƒ—ãƒ­ã‚»ã‚¹ã§ã™ã€‚

1.  **å¯†è¼¸å“ï¼ˆç”»åƒï¼‰ã®æå‡º**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ç”»åƒã‚’ Bot ã«æå‡ºï¼ˆ`!smuggle`ï¼‰ã—ã¾ã™ã€‚
2.  **é‡è¤‡ãƒã‚§ãƒƒã‚¯**:
    - **Bloom Filter & Perceptual Hash**: é‡è¤‡ç”»åƒã‚„ã€é…·ä¼¼ã—ãŸç”»åƒãŒæ—¢ã«å¸‚å ´ã«å­˜åœ¨ã—ãªã„ã‹ã‚’çž¬æ™‚ã«åˆ¤å®šã—ã¾ã™ã€‚ã‚³ãƒ”ãƒ¼å“ã¯å´ä¸‹ã•ã‚Œã¾ã™ã€‚
3.  **AI é‘‘å®š**:
    - **Waifu Scorer**: ç”»åƒã®ã€Œç¾Žå­¦ã‚¹ã‚³ã‚¢ (Aesthetic Score)ã€ã‚’ 1.0ã€œ10.0 ã§æŽ¡ç‚¹ã—ã¾ã™ã€‚
    - **WD Tagger**: ç”»åƒã«å«ã¾ã‚Œã‚‹ã‚¿ã‚°ï¼ˆç‰¹å¾´ï¼‰ã‚’è§£æžã—ã¾ã™ã€‚
4.  **ä¾¡æ ¼æ±ºå®š**:
    - **æŒ‡æ•°é–¢æ•°çš„ä¾¡æ ¼**: ä¾¡æ ¼ã¯ `1000 * (ã‚¹ã‚³ã‚¢^2)` ã‚’ãƒ™ãƒ¼ã‚¹ã«è¨ˆç®—ã•ã‚Œã¾ã™ã€‚é«˜å“è³ªãªç”»åƒã»ã©ä¾¡å€¤ãŒè·³ã­ä¸ŠãŒã‚Šã¾ã™ã€‚
    - **å¸Œå°‘æ€§ãƒœãƒ¼ãƒŠã‚¹**: Danbooru ä¸Šã®æŠ•ç¨¿æ•°ãŒå°‘ãªã„ã€Œãƒ¬ã‚¢ã‚¿ã‚°ã€ãŒå«ã¾ã‚Œã¦ã„ã‚‹ã¨ã€ä¾¡æ ¼ãŒæœ€å¤§ 3 å€ã«ãªã‚Šã¾ã™ã€‚
    - **ãƒˆãƒ¬ãƒ³ãƒ‰ & ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼**: ãã®æ—¥ã®ãƒˆãƒ¬ãƒ³ãƒ‰ã‚„ã€ç‰¹å®šã®ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼åãŒå«ã¾ã‚Œã¦ã„ã‚‹ã¨ã•ã‚‰ã«ç‰¹åˆ¥ãƒœãƒ¼ãƒŠã‚¹ãŒä»˜ä¸Žã•ã‚Œã¾ã™ã€‚

### 2. ðŸª å¸‚å ´ & ã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³ (Market & Auction)

- **ã‚®ãƒ£ãƒ©ãƒªãƒ¼è²©å£²**: é‘‘å®šã•ã‚ŒãŸå•†å“ã¯è‡ªå‹•çš„ã«å¸‚å ´ã«ä¸¦ã³ã¾ã™ã€‚ä»–ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ã“ã‚Œã‚’è³¼å…¥ã§ãã¾ã™ã€‚
- **è»¢å£²**: è³¼å…¥ã—ãŸå•†å“ã¯ã€ä¾¡æ ¼ã‚’è‡ªç”±ã«è¨­å®šã—ã¦å†è²©ã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ï¼ˆå£²å´ç›Šã® 20%ã¯ç¨Žé‡‘ã¨ã—ã¦å¾´åŽã•ã‚Œã¾ã™ï¼‰ã€‚
- **ã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³**: å¸Œå°‘ãªå“ã¯ã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³ã«å‡ºå“ã—ã€å…¥æœ­ç«¶äº‰ã‚’è¡Œã†ã“ã¨ãŒã§ãã¾ã™ã€‚

### 3. ðŸ“ˆ æ ªå¼å¸‚å ´ (Stock Market)

ã‚¿ã‚°ï¼ˆä¾‹: `1girl`, `blue_hair`, `cat_ears`ï¼‰ã”ã¨ã®ã€Œæ ªä¾¡ã€ãŒå­˜åœ¨ã—ã¾ã™ã€‚

- **å¤‰å‹•è¦å› **:
  - èª°ã‹ãŒãã®ã‚¿ã‚°ã‚’å«ã‚€ç”»åƒã‚’ã€Œå¯†è¼¸ï¼ˆä¾›çµ¦ï¼‰ã€ã™ã‚‹ã¨ã€æ ªä¾¡ã¯**ä¸‹è½**ã—ã¾ã™ã€‚
  - èª°ã‹ãŒãã®ã‚¿ã‚°ã‚’å«ã‚€ç”»åƒã‚’ã€Œè³¼å…¥ï¼ˆéœ€è¦ï¼‰ã€ã™ã‚‹ã¨ã€æ ªä¾¡ã¯**ä¸Šæ˜‡**ã—ã¾ã™ã€‚
  - é«˜å“è³ªï¼ˆS ãƒ©ãƒ³ã‚¯ï¼‰ãªç”»åƒãŒä¾›çµ¦ã•ã‚Œã‚‹ã¨ã€å¸‚å ´ã¸ã®ä¿¡é ¼æ„Ÿã‹ã‚‰æ ªä¾¡ãŒè‹¥å¹²**ä¸Šæ˜‡**ã—ã¾ã™ã€‚
- **æŠ•è³‡**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã¯ä»»æ„ã®ã‚¿ã‚°ã®æ ªã‚’è³¼å…¥ã—ã€å¸‚å ´ã®å‹•å‘ã‚’èª­ã‚“ã§å£²è²·ç›Šã‚’å¾—ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚

### 4. ðŸ“… ãƒ‡ã‚¤ãƒªãƒ¼ãƒˆãƒ¬ãƒ³ãƒ‰ (Daily Trends)

æ¯Žæ—¥ AM 6:00 ã«ã€ç‰¹å®šã®ã€Œãƒãƒ¼ã‚ºã€ã€Œè¡£è£…ã€ã€Œèº«ä½“çš„ç‰¹å¾´ã€ãŒãƒˆãƒ¬ãƒ³ãƒ‰ã¨ã—ã¦ç™ºè¡¨ã•ã‚Œã¾ã™ã€‚
ãƒˆãƒ¬ãƒ³ãƒ‰ã«åˆè‡´ã™ã‚‹ç”»åƒã‚’å¯†è¼¸ã™ã‚‹ã¨ã€é«˜é¡ãªãƒœãƒ¼ãƒŠã‚¹ãŒä»˜ä¸Žã•ã‚Œã¾ã™ã€‚

---

## ðŸ’» ã‚³ãƒžãƒ³ãƒ‰ä¸€è¦§ (Commands)

### ðŸŸ¢ åŸºæœ¬ (Basics)

- `!balance` (alias: `!bal`, `!money`): è‡ªåˆ†ã®æ‰€æŒé‡‘ï¼ˆã‚¯ãƒ¬ã‚¸ãƒƒãƒˆï¼‰ã‚’ç¢ºèªã—ã¾ã™ã€‚
- `!pay @user [é‡‘é¡]`: æŒ‡å®šã—ãŸãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é€é‡‘ã—ã¾ã™ã€‚
- `!daily`: 1 æ—¥ 1 å›žã€ãƒ­ã‚°ã‚¤ãƒ³ãƒœãƒ¼ãƒŠã‚¹ã‚’å—ã‘å–ã‚Šã¾ã™ã€‚
- `!join`: é—‡å¸‚ã«å‚åŠ ç™»éŒ²ã—ã€ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãƒ‡ãƒ¼ã‚¿ã‚’ä½œæˆã—ã¾ã™ã€‚

### ðŸ•µï¸ å¯†è¼¸ãƒ»é‘‘å®š (Smuggling)

- `!smuggle` (**ç”»åƒã‚’æ·»ä»˜**): ç”»åƒã‚’å¯†è¼¸ï¼ˆé‘‘å®šãƒ»å‡ºå“ï¼‰ã—ã¾ã™ã€‚
- `!trends`: æœ¬æ—¥ã®é«˜é¨°ãƒˆãƒ¬ãƒ³ãƒ‰ã‚’ç¢ºèªã—ã¾ã™ã€‚

### ðŸª å¸‚å ´ãƒ»å–å¼• (Market)

- `!market` (alias: `!shop`): ç¾åœ¨è²©å£²ä¸­ã®å•†å“ãƒªã‚¹ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚
- `!buy [ID]`: æŒ‡å®šã—ãŸ ID ã®å•†å“ã‚’è³¼å…¥ã—ã¾ã™ã€‚
- `!auction [ID] [é–‹å§‹ä¾¡æ ¼] [æ™‚é–“(åˆ†)]`: æ‰€æŒå“ã‚’ã‚ªãƒ¼ã‚¯ã‚·ãƒ§ãƒ³ã«å‡ºå“ã—ã¾ã™ã€‚
- `!stock [Tagå]`: æŒ‡å®šã—ãŸã‚¿ã‚°ã®æ ªä¾¡ã‚’ç¢ºèªã—ã€å£²è²·ãƒœã‚¿ãƒ³ã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

### ðŸ“ˆ è³‡ç”£ç®¡ç† (Portfolio)

- `!portfolio`: ä¿æœ‰ã—ã¦ã„ã‚‹æ ªå¼ã®ä¸€è¦§ã¨ã€ç¾åœ¨ã®æç›Šã‚’è¡¨ç¤ºã—ã¾ã™ã€‚

### âš™ï¸ ç®¡ç†ãƒ»ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ— (Admin)

- `!init_server`: ã‚µãƒ¼ãƒãƒ¼ã®ã‚«ãƒ†ã‚´ãƒªãƒ»ãƒãƒ£ãƒ³ãƒãƒ«æ§‹æˆã‚’åˆæœŸã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã—ã¾ã™ã€‚ï¼ˆç®¡ç†è€…ã®ã¿ï¼‰

---

## ðŸ› ï¸ æŠ€è¡“ã‚¹ã‚¿ãƒƒã‚¯

- **Language**: Python (discord.py)
- **Database**: SQLite (aiosqlite)
- **AI Models**:
  - Classification: `SmilingWolf/wd-tagger` (via HuggingFace Gradio)
  - Scoring: `Eugeoter/waifu-scorer-v3` (via HuggingFace Gradio)
- **Algorithms**: Bloom Filter, Perceptual Hash (ImageHash)

---

---

## ðŸš€ ì…‹ì—… ë° ì‹¤í–‰ (Setup & Run)

ã“ã® Bot ã‚’ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã§å®Ÿè¡Œã™ã‚‹ãŸã‚ã®æ‰‹é †ã§ã™ã€‚

### 1. å‰ææ¡ä»¶ (Prerequisites)

- **Python 3.10+** ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨
- **Git** ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã“ã¨

### 2. ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ« (Installation)

```bash
# ãƒªãƒã‚¸ãƒˆãƒªã®ã‚¯ãƒ­ãƒ¼ãƒ³
git clone https://github.com/your-username/EconomyBot.git
cd EconomyBot

# ä»®æƒ³ç’°å¢ƒã®ä½œæˆã¨æœ‰åŠ¹åŒ– (æŽ¨å¥¨)
python -m venv .venv
# Windows:
# .venv\Scripts\activate
# Mac/Linux:
source .venv/bin/activate

# ä¾å­˜ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
```

### 3. ç’°å¢ƒè¨­å®š (Configuration)

ã“ã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã¯ç’°å¢ƒå¤‰æ•°ã‚’è¨­å®šã™ã‚‹ãŸã‚ã® `.env` ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¿…è¦ã§ã™ã€‚
`.env.example` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã‚³ãƒ”ãƒ¼ã—ã¦ `.env` ã‚’ä½œæˆã—ã€å¿…è¦ãªãƒˆãƒ¼ã‚¯ãƒ³ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚

```bash
cp .env.example .env
```

`.env` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ã§é–‹ãã€ä»¥ä¸‹ã®å€¤ã‚’è¨­å®šã—ã¾ã™ï¼š

- `DISCORD_TOKEN`: Discord Developer Portal ã‹ã‚‰å–å¾—ã—ãŸ Bot ãƒˆãƒ¼ã‚¯ãƒ³
- `HF_TOKEN`: Hugging Face ã§å–å¾—ã—ãŸ Access Token (Read æ¨©é™æŽ¨å¥¨)

### 4. å®Ÿè¡Œ (Run)

```bash
python bot.py
```

---

> _Warning: This bot is currently in Beta. Economy balance is subject to change._
